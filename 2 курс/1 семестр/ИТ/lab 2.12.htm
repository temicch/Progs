<HTML> 
<HEAD>

<script language="JavaScript">
var ar1; var ar3; var i;
var newElem = -1;
ar1 = new Array(9);
ar3 = new Array(9);

function rand(min, max) 
{
	return Math.floor(Math.random() * (max - min + 1)) + min; 
} 

function rec(obj)
{
	for (i=0; i<9; i++)	ar1[i]= rand(100, 999);
	obj.t0.value=ar1[0];
	obj.t1.value=ar1[1];
	obj.t2.value=ar1[2];
	obj.t3.value=ar1[3];
	obj.t4.value=ar1[4];
	obj.t5.value=ar1[5];
	obj.t6.value=ar1[6];
	obj.t7.value=ar1[7];
	obj.t8.value=ar1[8];
}

function rec2(obj)
{
	ar1[0]=obj.t0.value;
	ar1[1]=obj.t1.value;
	ar1[2]=obj.t2.value;
	ar1[3]=obj.t3.value;
	ar1[4]=obj.t4.value;
	ar1[5]=obj.t5.value;
	ar1[6]=obj.t6.value;
	ar1[7]=obj.t7.value;
	ar1[8]=obj.t8.value;
}

function sortNumber(a, b)
{
	return a - b;
}

function sortTable(obj)
{
	ar3 = ar1.sort(sortNumber);
	obj.t0.value=ar3[0];
	obj.t1.value=ar3[1];
	obj.t2.value=ar3[2];
	obj.t3.value=ar3[3];
	obj.t4.value=ar3[4];
	obj.t5.value=ar3[5];
	obj.t6.value=ar3[6];
	obj.t7.value=ar3[7];
	obj.t8.value=ar3[8];
}

function deleteTable()
{
	var table = document.getElementById("tbl");
	table.parentNode.removeChild(table);
	newElem = -1;
}

function createTable(obj,ar3,t) 
{ 
	var res=0;
	var L=0;
	var R= ar3.length; 
	var m;
	if(newElem != -1) deleteTable(newElem);
    newElem=document.createElement("table");//создаём новый элемент страницы (TABLE) 
    newElem.border=1;//указывает толщину рамки таблицы 
    newElem.id = "tbl";
     
    var newRow=newElem.insertRow(0);//добавляем строку в созданной таблице 
    var newCell = newRow.insertCell(0);//в созданной строке добавляем столбец 
    newCell.width="20";    
    newCell.align="center";
    newCell.innerHTML="<b>L</b>";
     
    var newCell = newRow.insertCell(-1);//добавляем ещё один столбец 
    newCell.width="20";  
    newCell.align="center";
    newCell.innerHTML="<b>R</b>";
    
    var newCell = newRow.insertCell(-1);//добавляем ещё один столбец 
    newCell.width="20";  
    newCell.align="center";
    newCell.innerHTML="<b>m</b>";

    var newCell = newRow.insertCell(-1);//добавляем ещё один столбец 
    newCell.align="center";
    newCell.innerHTML="<b>A[m]</b>";
	while ( L < R ) 
	{
		var newRow=newElem.insertRow(1); 
		var newCell = newRow.insertCell(0); 
		newCell.align="center";
		newCell.innerHTML=L; 

		var newCell = newRow.insertCell(-1);
		newCell.align="center";
		newCell.innerHTML=R;
		m=Math.round( (L+R)/2+0.5)-1
		var newCell = newRow.insertCell(-1);
		newCell.align="center";
		newCell.innerHTML=m;

		var newCell = newRow.insertCell(-1);
		newCell.align="center";
		newCell.innerHTML=ar3[m];
		//if (t > ar3[m] )
		if(sortNumber(t, ar3[m]) > 0)
			L=m+1;
		else
			R=m;
	}
	document.body.appendChild(newElem);//прописываем созданную таблицу на страницу 
	if (ar3[L] == t ) return L;
	else return -1;
}  


</script>
</HEAD> 

<BODY onLoad="rec(form2);sortTable(form2);">

Двоичный поиск
<P>
<FORM name="form2"><TABLE BORDER=1><TR>
<TH>Массив чисел:</TH>
<TD> <INPUT NAME="t0" onBlur = "rec2(form2); sortTable(form2);" SIZE=3 TYPE=TEXT ></TD>
<TD> <INPUT NAME="t1" onBlur = "rec2(form2); sortTable(form2);" SIZE=3 TYPE=TEXT ></TD>
<TD> <INPUT NAME="t2" onBlur = "rec2(form2); sortTable(form2);" SIZE=3 TYPE=TEXT ></TD>
<TD> <INPUT NAME="t3" onBlur = "rec2(form2); sortTable(form2);" SIZE=3 TYPE=TEXT ></TD>
<TD> <INPUT NAME="t4" onBlur = "rec2(form2); sortTable(form2);" SIZE=3 TYPE=TEXT ></TD>
<TD> <INPUT NAME="t5" onBlur = "rec2(form2); sortTable(form2);" SIZE=3 TYPE=TEXT ></TD>
<TD> <INPUT NAME="t6" onBlur = "rec2(form2); sortTable(form2);" SIZE=3 TYPE=TEXT ></TD>
<TD> <INPUT NAME="t7" onBlur = "rec2(form2); sortTable(form2);" SIZE=3 TYPE=TEXT ></TD>
<TD> <INPUT NAME="t8" onBlur = "rec2(form2); sortTable(form2);" SIZE=3 TYPE=TEXT ></TD>
</TR></TABLE></form>
<form name = "form3">
<P>
Число:
<INPUT NAME="data2" SIZE=3 TYPE=TEXTBOX>
<P>
Результат (позиция):
<INPUT NAME="result" SIZE=3 TYPE=TEXTBOX>
<P>
<INPUT TYPE="button" VALUE="Определить" 
OnClick="form3.result.value=createTable (form3,ar3,form3.data2.value)"> 
<input type="reset" onClick = "deleteTable()" value="Очистить">

<P>Таблица промежуточных значений: <BR>
</FORM>
</BODY> 
</HTML>
